name: Remove old reports
on:
    push:
        branches: [master]
    schedule:
        - cron: 0 0 * * *
    workflow_dispatch:
        inputs:
            versionType:
                type: choice
                description: Some choice
                required: true
                options:
                    - patch
                    - minor
                    - major
permissions:
    pull-requests: write
jobs:
    collect:
        name: Remove old reports
        runs-on: ubuntu-24.04
        steps:
            - name: Checkout repository
              uses: actions/checkout@v2
              with:
                  ref: gh-pages
                  fetch-depth: 0
                  token: ${{ secrets.GH_ACCESS_TOKEN }}
            - name: Remove reports
              uses: gemini-testing/gh-actions-reports-ttl-cleaner@6784c7fbf5b2c8909684c7cf4f9f937b76dd6697
              with:
                  token: ${{ secrets.GH_ACCESS_TOKEN }}
